# -*- coding: utf-8 -*-
"""app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1LHe1S5RPRB6m_cU_hrFh3RHaKNSZypFW
"""


import streamlit as st
import pandas as pd
import pickle

# Load the trained model
model = pickle.load(open('trained_rf_model.pkl', 'rb'))

# Title
st.title("Train Delay Severity Predictor ðŸš†")

st.markdown("""
This app predicts **delay severity class** (Low, Medium, High) at a train station 
based on its index on the route and the delay at the previous station.
""")

# User Inputs (ONLY features model was trained on)
station_index = st.slider("Station Index", 0, 120, 10)
prev_delay = st.slider("Previous Station Delay (in minutes)", 0, 120, 5)

# Create input DataFrame
input_df = pd.DataFrame([[station_index, prev_delay]], columns=["Station_Index", "Prev_Delay"])

# Predict
if st.button("Predict Delay Class"):
    prediction = model.predict(input_df)[0]
    st.success(f"ðŸš¦ Predicted Delay Class: **{prediction}**")


# Commented out IPython magic to ensure Python compatibility.
# %pip install streamlit
